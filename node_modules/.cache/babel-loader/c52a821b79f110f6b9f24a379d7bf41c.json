{"ast":null,"code":"import _objectSpread from\"/home/ali/React/Form-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ali/React/Form-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/home/ali/React/Form-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _regeneratorRuntime from\"/home/ali/React/Form-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ali/React/Form-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Box,Button,Card,CardContent,CircularProgress,Step,StepLabel,Stepper}from\"@material-ui/core\";import{Field,Form,Formik}from\"formik\";import{TextField,CheckboxWithLabel}from\"formik-material-ui\";import React,{useState}from\"react\";import*as yup from\"yup\";var sleep=function sleep(time){return new Promise(function(acc){return setTimeout(acc,time);});};export var FormDisplay=function FormDisplay(){return/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(FormikStepper,{initialValues:{name:\"\",fname:\"\",age:\"\",email:\"\",password:\"\",female:false,male:false,contact:\"\",description:\"\"},onSubmit:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return sleep(3000);case 2:alert(\"Form submitted\");console.log(\"values\",values);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsxs(FormikStep,{label:\"Account\",validationSchema:yup.object({email:yup.string().required().min(4,\"required\"),password:yup.string().required().min(6,\"Atleast 6 digits are required\")}),children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Field,{type:\"text\",label:\"Email\",name:\"email\",component:TextField})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Field,{type:\"text\",label:\"Password\",name:\"password\",component:TextField})})]}),/*#__PURE__*/_jsxs(FormikStep,{label:\"Personal\",validationSchema:yup.object({name:yup.string().required().max(13,\"Not valid\"),fname:yup.string().required().max(13,\"Not valid\"),age:yup.number().required().min(18,\"Under 18 are not allowed\"),contact:yup.number().required().min(11,\"Not valid\")}),children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Field,{type:\"text\",label:\"Name\",name:\"name\",component:TextField})}),/*#__PURE__*/_jsxs(Box,{children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"text\",label:\"Father Name\",name:\"fname\",component:TextField})]}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Field,{type:\"number\",label:\"Age\",name:\"age\",component:TextField})}),/*#__PURE__*/_jsx(Field,{type:\"checkbox\",Label:{label:\"Female\"},name:\"female\",component:CheckboxWithLabel}),/*#__PURE__*/_jsx(Field,{type:\"checkbox\",Label:{label:\"Male\"},name:\"male\",component:CheckboxWithLabel}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Field,{type:\"number\",label:\"Contact\",name:\"contact\",component:TextField})})]}),/*#__PURE__*/_jsx(FormikStep,{label:\"Description\",children:/*#__PURE__*/_jsxs(Box,{children:[\" \",/*#__PURE__*/_jsx(Field,{type:\"text\",placeholder:\"Tell About yourself\",label:\"Description\",name:\"description\",component:TextField})]})})]})})})});};export var FormikStep=function FormikStep(_ref2){var children=_ref2.children;return/*#__PURE__*/_jsx(_Fragment,{children:children});};export var FormikStepper=function FormikStepper(_ref3){var children=_ref3.children,props=_objectWithoutProperties(_ref3,[\"children\"]);var childrenArray=React.Children.toArray(children);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),step=_useState2[0],setstep=_useState2[1];var currentchildren=childrenArray[step];console.log(childrenArray.length-1);return/*#__PURE__*/_jsx(Formik,_objectSpread(_objectSpread({},props),{},{validationSchema:currentchildren.props.validationSchema,onSubmit:/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(values,action){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(step===childrenArray.length-1)){_context2.next=5;break;}_context2.next=3;return props.onSubmit(values,action);case 3:_context2.next=6;break;case 5:setstep(function(s){return s+1;});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref4.apply(this,arguments);};}(),children:function children(_ref5){var isSubmitting=_ref5.isSubmitting;return/*#__PURE__*/_jsxs(Form,{autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Stepper,{activeStep:step,alternativeLabel:true,children:childrenArray.map(function(child){return/*#__PURE__*/_jsx(Step,{children:/*#__PURE__*/_jsx(StepLabel,{children:child.props.label})},child.props.label);})}),currentchildren,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),step>0?/*#__PURE__*/_jsx(Button,{disabled:isSubmitting,variant:\"contained\",color:\"primary\",onClick:function onClick(){return setstep(function(s){return s-1;});},children:\"Back\"}):null,\"\\xA0 \\xA0\",/*#__PURE__*/_jsx(Button,{disabled:isSubmitting,startIcon:isSubmitting?/*#__PURE__*/_jsx(CircularProgress,{size:\"1rem\"}):null,variant:\"contained\",color:\"primary\",type:\"submit\",children:step==childrenArray.length-1?\"Submit\":\"Next\"})]});}}));};","map":{"version":3,"sources":["/home/ali/React/Form-app/src/FormDisplay.tsx"],"names":["Box","Button","Card","CardContent","CircularProgress","Step","StepLabel","Stepper","Field","Form","Formik","TextField","CheckboxWithLabel","React","useState","yup","sleep","time","Promise","acc","setTimeout","FormDisplay","name","fname","age","email","password","female","male","contact","description","values","alert","console","log","object","string","required","min","max","number","label","FormikStep","children","FormikStepper","props","childrenArray","Children","toArray","step","setstep","currentchildren","length","validationSchema","action","onSubmit","s","isSubmitting","map","child"],"mappings":"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","sourcesContent":["import {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  CircularProgress,\n  Step,\n  StepLabel,\n  Stepper,\n} from \"@material-ui/core\";\n\nimport { Field, Form, Formik, FormikConfig, FormikValues } from \"formik\";\nimport { TextField, CheckboxWithLabel } from \"formik-material-ui\";\nimport React, { useState } from \"react\";\n\nimport * as yup from \"yup\";\n\nconst sleep = (time: any) => new Promise((acc) => setTimeout(acc, time));\nexport const FormDisplay = () => {\n  return (\n    <div className=\"card\">\n      <Card>\n        <CardContent>\n          <FormikStepper\n            initialValues={{\n              name: \"\",\n              fname: \"\",\n              age: \"\",\n              email: \"\",\n              password: \"\",\n              female: false,\n              male: false,\n\n              contact: \"\",\n              description: \"\",\n            }}\n            onSubmit={async (values) => {\n              await sleep(3000);\n              alert(\"Form submitted\");\n              console.log(\"values\", values);\n            }}\n          >\n            <FormikStep\n              label=\"Account\"\n              validationSchema={yup.object({\n                email: yup.string().required().min(4, \"required\"),\n                password: yup\n                  .string()\n                  .required()\n                  .min(6, \"Atleast 6 digits are required\"),\n              })}\n            >\n              <Box>\n                <Field\n                  type=\"text\"\n                  label=\"Email\"\n                  name=\"email\"\n                  component={TextField}\n                />\n              </Box>\n              <Box>\n                <Field\n                  type=\"text\"\n                  label=\"Password\"\n                  name=\"password\"\n                  component={TextField}\n                />\n              </Box>\n            </FormikStep>\n\n            <FormikStep\n              label=\"Personal\"\n              validationSchema={yup.object({\n                name: yup.string().required().max(13, \"Not valid\"),\n                fname: yup.string().required().max(13, \"Not valid\"),\n                age: yup\n                  .number()\n                  .required()\n                  .min(18, \"Under 18 are not allowed\"),\n                contact: yup.number().required().min(11, \"Not valid\"),\n              })}\n            >\n              <Box>\n                <Field\n                  type=\"text\"\n                  label=\"Name\"\n                  name=\"name\"\n                  component={TextField}\n                />\n              </Box>\n              <Box>\n                {\" \"}\n                <Field\n                  type=\"text\"\n                  label=\"Father Name\"\n                  name=\"fname\"\n                  component={TextField}\n                />\n              </Box>\n              <Box>\n                <Field\n                  type=\"number\"\n                  label=\"Age\"\n                  name=\"age\"\n                  component={TextField}\n                />\n              </Box>\n              <Field\n                type=\"checkbox\"\n                Label={{ label: \"Female\" }}\n                name=\"female\"\n                component={CheckboxWithLabel}\n              />\n              <Field\n                type=\"checkbox\"\n                Label={{ label: \"Male\" }}\n                name=\"male\"\n                component={CheckboxWithLabel}\n              />\n              <Box>\n                <Field\n                  type=\"number\"\n                  label=\"Contact\"\n                  name=\"contact\"\n                  component={TextField}\n                />\n              </Box>\n            </FormikStep>\n\n            <FormikStep label=\"Description\">\n              <Box>\n                {\" \"}\n                <Field\n                  type=\"text\"\n                  placeholder=\"Tell About yourself\"\n                  label=\"Description\"\n                  name=\"description\"\n                  component={TextField}\n                />\n              </Box>\n            </FormikStep>\n          </FormikStepper>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport interface Proptypestep\n  extends Pick<FormikConfig<FormikValues>, \"children\" | \"validationSchema\"> {\n  label: string;\n}\n\nexport const FormikStep = ({ children }: Proptypestep) => {\n  return <>{children}</>;\n};\n\nexport const FormikStepper = ({\n  children,\n  ...props\n}: FormikConfig<FormikValues>) => {\n  const childrenArray = React.Children.toArray(\n    children\n  ) as React.ReactElement<Proptypestep>[];\n  const [step, setstep] = useState(0);\n  const currentchildren = childrenArray[step];\n  console.log(childrenArray.length - 1);\n  return (\n    <Formik\n      {...props}\n      validationSchema={currentchildren.props.validationSchema}\n      onSubmit={async (values, action) => {\n        if (step === childrenArray.length - 1) {\n          await props.onSubmit(values, action);\n        } else {\n          setstep((s) => s + 1);\n        }\n      }}\n    >\n      {({ isSubmitting }) => (\n        <Form autoComplete=\"off\">\n          <Stepper activeStep={step} alternativeLabel>\n            {childrenArray.map((child) => (\n              <Step key={child.props.label}>\n                <StepLabel>{child.props.label}</StepLabel>\n              </Step>\n            ))}\n          </Stepper>\n          {currentchildren}\n          <br />\n          <br />\n          {step > 0 ? (\n            <Button\n              disabled={isSubmitting}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={() => setstep((s) => s - 1)}\n            >\n              Back\n            </Button>\n          ) : null}\n          &nbsp; &nbsp;\n          <Button\n            disabled={isSubmitting}\n            startIcon={isSubmitting ? <CircularProgress size=\"1rem\" /> : null}\n            variant=\"contained\"\n            color=\"primary\"\n            type=\"submit\"\n          >\n            {step == childrenArray.length - 1 ? \"Submit\" : \"Next\"}\n          </Button>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}